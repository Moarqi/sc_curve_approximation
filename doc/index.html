<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Curve Approximation: Curve Approximation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Curve Approximation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Curve Approximation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>We want to approximate a set of given constraints <code>(x_i, y_i)</code> by a polynomial curve. The constraints can be defined by clicking with the left mouse button. Use the key <code>c</code> to clear the points. Use <code>1</code> to <code>6</code> to try the six test cases (a sine curve with increasing density). Press <code>a</code> and <code>i</code> to switch to approximation and interpolation, respectively. You can use the <code>spacebar</code> to switch between your own LU solver and one provided by <a href="http://eigen.tuxfamily.org/">Eigen</a>, or between your own Cholesky solver, one provided by Eigen, and a QR solver provided by Eigen &ndash; depending on whether approximation or interpolation is active. You can find some typedefs for Eigen's matrices and vectors in <code><a class="el" href="types_8h.html">types.h</a></code>. Use <code>Scalar</code> for floating point variables and change it's definition in <code><a class="el" href="types_8h.html">types.h</a></code> if you want to use <code>float</code> instead of <code>double</code>.</p>
<h2>Building under Linux/MacOS </h2>
<p>Inside the exercise's top-level directory, execute the following commands: </p><pre class="fragment">mkdir build
cd build
cmake ..
make
</pre><h2>Using Xcode under MacOS </h2>
<p>If you prefer to use Xcode on Mac, to the following: </p><pre class="fragment">mkdir build
cd build
cmake -G Xcode ..
</pre><p>and then open the generated Xcode project.</p>
<h2>Building and running under Windows </h2>
<ul>
<li>Download and install <a href="https://www.visualstudio.com/vs/community/">Visual Studio Community</a></li>
<li>Make sure that you check "Desktop development with C++" during installation</li>
<li>Download <a href="https://cmake.org/download/">cmake</a> via the platform windows .zip version and extract it somewhere</li>
<li>Create an empty build folder inside the project's top-level directory</li>
<li>Start cmake-gui.exe (located in cmake's bin folder)</li>
<li>Specify the top-level directory as source directory (button Browse source...)</li>
<li>Specify the build folder as build directory (button Browse build...)</li>
<li>Select Configure using your Visual Studio Version as option.</li>
<li>When configuration is finished, select Generate.</li>
<li>Start Visual Studio Community</li>
<li>Open the project via File -&gt; open -&gt; project -&gt; .sln in build folder</li>
<li>In the project explorer window on the right, right-click the project (skeletal animation) and set it as startup-project</li>
<li>Switch to release mode</li>
<li>The executable will need the character's .bim file and (optional) a motion file as command line arguments. You can specify those via project -&gt; properties -&gt; debugging -&gt; command arguments</li>
<li>Hit CTRL + F5 to build and run (or CTRL + SHIFT + B to build)</li>
</ul>
<h2>Documentation </h2>
<p>Open the pre-built documentation from within the <code>build</code> directory via </p><pre class="fragment">firefox ../doc/index.html
</pre><p>or using any other web browser.</p>
<p>You can also build the HTML documentation on your own as long as you have <a href="www.doxygen.org/">Doxygen</a> installed. To do so, still inside the directory <code>build</code>, execute the following command: </p><pre class="fragment">make doc
</pre><p>View the documentation by opening the file <code>html/index.html</code> with any web browser / HTML viewer. If you are into LaTeX, navigate into the directory <code>latex</code> and execute the command <code>make</code> to create a printable version of the documentation.</p>
<h2>Running </h2>
<p>After building (i.e. execution of <code>make</code>), still in the directory <code>build</code>, launch the program by executing the following command: </p><pre class="fragment">./approximation
</pre><h2>Todo </h2>
<ul>
<li>In the file <code><a class="el" href="InterpolationViewer_8cpp.html">src/InterpolationViewer.cpp</a></code>, implement the function <code>fit_curve()</code>. Set up the linear system <code>A * x = b</code> and use either your or Eigen's solver to solve the system. Compute the error <code>||A * x - b||</code> and compare the two solvers.</li>
<li>In the file <code><a class="el" href="lu_8cpp.html">src/lu.cpp</a></code>, implement the <code>solve()</code> function that solves <code>A * x = b</code> after the factorization <code>A = L * U</code> has been computed. Here you have to solve two triangular systems involving <code>L</code> and <code>U</code>. Finish the function <code>factorize()</code> to actually compute the factorization.</li>
<li>In the file <code><a class="el" href="ApproximationViewer_8cpp.html">src/ApproximationViewer.cpp</a></code>, implement the function <code>add_noise()</code>. Use it to add some noise to the constraints' <code>y</code>-coordinates.</li>
<li>In the file <code><a class="el" href="ApproximationViewer_8cpp.html">src/ApproximationViewer.cpp</a></code>, implement the function <code>approximate()</code>. Set up the overdetermined system and the normal equations, and use Eigen's Cholesky solver or QR solver to compute the least squares solution.</li>
<li>In the file <code><a class="el" href="cholesky_8cpp.html">src/cholesky.cpp</a></code>, implement the <code>factorize()</code>. Then, make this solver available as an alternative in <code><a class="el" href="ApproximationViewer_8cpp.html">src/ApproximationViewer.cpp</a></code>.</li>
</ul>
<h2>License </h2>
<p>The code examples are copyright Computer Graphics Group, Bielefeld University.</p>
<p>Have fun! </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
